services:
  xmrig-cuda:
    image: xmrig-cuda-arm64
    container_name: xmrig-cuda
    runtime: nvidia
    environment:
      - NVIDIA_VISIBLE_DEVICES=all
      - NVIDIA_DRIVER_CAPABILITIES=utility,compute
      - POOL=POOL_HOST:PORT
      - ADDR=YOUR_ADDRESS
      - THREADS=1
      - BURST_SEC=90
      - COOL_SEC=60
      - MAX_TEMP_C=70
    cpus: 0.50           # Jetson small GPU + half a CPU core for orchestration
    cpus: 0.50
    mem_limit: 512m
    restart: unless-stopped
    security_opt: [no-new-privileges:true]
    read_only: true
